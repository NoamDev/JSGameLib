<!DOCTYPE html>
<html>
<head>
  <style>
    html,body{
    margin:0;
    padding:0,
    height:100%,
    width:100% 
    }
    #frame{ 
    width:500px;
    height:500px;
    margin-left:50%; 
    }
  </style>
  <script>
    var frame=null;
    function run()
    {
      var frameContainer=document.getElementById("frame");
      if(frame!=null)frameContainer.removeChild(frame);
      var frame=document.createElement("iframe");
      frameContainer.appendChild(frame);
      var libscript=document.createElement("script");
      libscript.src="lib/client/lib.js";
      var div=document.createElement("div");
      div.id="game";
      var script=document.createElement("script");
      script.innerHTML=document.getElementById("code").value;
      frame.contentDocument.open();
      frame.contentDocument.write("<!DOCTYPE html><html><head></head><body></body></html>");
      frame.contentDocument.close()
      frame.contentDocument.body.appendChild(div);
      frame.contentDocument.head.appendChild(script);
      frame.contentDocument.head.appendChild(libscript);
    }
  </script> 
</head>
<body>
  <div style="width:50%;height:200px">
  <textarea id="code" rows="50">
  function init()
    {
    }
  </textarea>
  <button onclick=run()>run</button>
  </div>
  <div style="height:220px" id="frame"></div>
</body>
</html>

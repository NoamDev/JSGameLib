<!DOCTYPE html>
<html>
<head>
  <style>
    #frame{ 
    display: inline-block;
    }
    #codecontain {
    display: inline-block;
    width: 50%;
    }
  </style>
  <script>
    var frame=null;
    function run()
    {
      var frameContainer=document.getElementById("frame");
      if(frame!=null)frameContainer.removeChild(frame);
      frame=document.createElement("iframe");
      frame.style.height="500px"
      frame.style.width="500px"
      frameContainer.appendChild(frame);
      var libscript=document.createElement("script");
      libscript.src="lib/client/lib.js";
      var div=document.createElement("div");
      div.id="game";
      var script=document.createElement("script");
      script.innerHTML=document.getElementById("code").value;
      frame.contentDocument.body.style.margin="0px"
      frame.contentDocument.body.appendChild(div);
      frame.contentDocument.head.appendChild(script);
      frame.contentDocument.head.appendChild(libscript);
    }
  </script> 
</head>
<body>
  <div id="codecontain">
  <textarea id="code" rows="30" cols="40">
  function init()
    {
    }
  </textarea>
  <button onclick=run()>run</button>
    </div>
  <div style="height:220px" id="frame"></div>
</body>
</html>

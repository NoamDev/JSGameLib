<!DOCTYPE html>
<html>
<head>
<script src=lib.js type=text/javascript></script>
<script>
var game=null;
var ball=null;
var circle=null;
function load()
{
	JSG.loader.load([
		"mario.gif"
	]).then(setup);
}
function setup()
{
	game = new JSG.Game(document.getElementById("game"),500,500);
	circle = new JSG.Sprite(JSG.loader.res["mario.gif"]);
	ball = new JSG.Entity();
	ball.sprite = circle;
	ball.addEventListener("key-down-ArrowDown",function(){this.move(0,50)})
    ball.addEventListener("key-down-ArrowUp",function(){this.move(0,-50)})
    ball.addEventListener("key-down-ArrowRight",function(){this.move(50,0)})
    ball.addEventListener("key-down-ArrowLeft",function(){this.move(-50,0)})
	ball.addEventListener("intersect-border",function(){this.move(0,0);this.x=this.x_old;this.y=this.y_old});
	var room = new JSG.Room();
	room.place(ball, 10,10);
	game.addRoom(room);
	game.start()
}
</script>
</head>
<body>
<div id="game"></div>
</body>
</html>